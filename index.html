<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="My Block">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="My Block">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="My Block">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>My Block</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">My Block</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/22/Cookie入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/22/Cookie入门/" itemprop="url">Cookie入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-22T00:01:54+08:00">
                2018-04-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-看一遍注册登陆的代码"><a href="#1-看一遍注册登陆的代码" class="headerlink" title="1. 看一遍注册登陆的代码"></a>1. 看一遍注册登陆的代码</h1><p><a href="https://github.com/Pengyize/homework/tree/master/sign-up" target="_blank" rel="noopener">github</a></p>
<h1 id="2-以注册登陆为例"><a href="#2-以注册登陆为例" class="headerlink" title="2. 以注册登陆为例"></a>2. 以注册登陆为例</h1><ol>
<li>你注册账号时，浏览器发送post请求将你的用户名、密码发送给服务器，服务器会把你的用户名、密码存入数据库，即注册成功。</li>
<li>在你登陆的时候，浏览器同样发送post请求，服务器会把你的账号密码和数据库里的匹配，若匹配成功，服务器会发送一个响应头给浏览器，例如：<br><code>Set-Cookie: sign_in_email=xxx@xxx.com</code><br>这里面记录着你的登陆信息，浏览器会把这个cookie保存下来</li>
<li>当你短时间内再访问这个网页时，浏览器会带着这个cookie发送GET请求，服务器接收到请求后发现cookie里的信息和数据库里可以匹配上，于是服务器会帮你登陆之后再把html响应给你，这样你就相当于直接得到一个已经登陆上的网页</li>
<li>浏览器在一段时间后会自动删除cookie，若发送请求时没有cookie，或cookie里的信息和服务器的数据库不匹配，则不会登陆</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/18/JS基础知识考试/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/18/JS基础知识考试/" itemprop="url">JS基础知识考试</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-18T09:32:07+08:00">
                2018-04-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-关于new"><a href="#1-关于new" class="headerlink" title="1. 关于new"></a>1. 关于new</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">    console.log(this)</span><br><span class="line">&#125;</span><br><span class="line">new fn()  //会执行fn</span><br></pre></td></tr></table></figure>
<p>答：this就是fn，它有<code>__proto__</code>属性，<code>__proto__</code>指向这个fn的原型<br>fn的原型里有两个属性<code>{contructor: fn()}</code>和<code>__proto__</code>(指向Object.prototype)</p>
<h1 id="2-MVC"><a href="#2-MVC" class="headerlink" title="2. MVC"></a>2. MVC</h1><ol>
<li><p>MVC是Model View Controller<br>View：是这个js模块对应在html中的部分，就是展示给用户看的那一部分</p>
<p> Model：可以从服务器获得数据，把数据传给Controller。还要将Controller监听到的用户提交的数据上传到服务器。</p>
<p> Controller：调用model的数据，用来更新view。还要监听用户在view上的操作，获取用户提交的数据，传给model。</p>
</li>
<li><p>代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">window.Model = function(options)&#123;</span><br><span class="line">    let resourceName = options.resourceName;</span><br><span class="line">    return &#123;</span><br><span class="line">        init : function()&#123;&#125;,</span><br><span class="line">        fetch: function()&#123;&#125;,</span><br><span class="line">        save: function()&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.View = function(selector)&#123;</span><br><span class="line">    return document.querySelector(selector);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.Controller = function(options)&#123;</span><br><span class="line">    let init = options.init;</span><br><span class="line"></span><br><span class="line">    let object = &#123;</span><br><span class="line">        view: null,</span><br><span class="line">        model: null,</span><br><span class="line">        init: function(view,model)&#123;</span><br><span class="line">            this.view = view;</span><br><span class="line">            this.model = model;</span><br><span class="line">            this.model.init();</span><br><span class="line">            init.call(this.view);</span><br><span class="line">            this.bindEvents.call(this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    for(let key in options)&#123;</span><br><span class="line">        if(key !== &apos;init&apos;)&#123;</span><br><span class="line">            object[key] = options[key]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return object;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="3-用函数模拟一个类"><a href="#3-用函数模拟一个类" class="headerlink" title="3. 用函数模拟一个类"></a>3. 用函数模拟一个类</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function Animal(species) &#123;</span><br><span class="line">    this.species = species; //自有属性</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">Animal.prototype = &#123;</span><br><span class="line">    constructor: Animal,</span><br><span class="line">    walk : function () &#123;&#125;,  //走路的代码</span><br><span class="line">    run: function () &#123;&#125;,    //跑步的代码</span><br><span class="line">    eat: function () &#123;&#125;,    //吃东西的代码</span><br><span class="line">    sleep: function () &#123;&#125;   //睡觉的代码</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let cat = new Animal(&apos;cat&apos;)</span><br><span class="line">cat.specise === cat     //true</span><br><span class="line">//并且cat对象的__proto__指向Animal.prototype，有里面的动作属性</span><br></pre></td></tr></table></figure>
<h1 id="4-promise"><a href="#4-promise" class="headerlink" title="4. promise"></a>4. promise</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">promiseTest = function (a,b)&#123;</span><br><span class="line">    return new Promise(function(resolve,reject)&#123;</span><br><span class="line">        if(a+b&gt;5)&#123;</span><br><span class="line">            resolve();  //若参数a+b大于五则执行resolve</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            reject();   //若参数a+b大小于等于五则执行resolve</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">promiseTest(4,6).then(</span><br><span class="line">    () =&gt; &#123;</span><br><span class="line">        console.log(&apos;大于5&apos;);</span><br><span class="line">    &#125;,</span><br><span class="line">    () =&gt; &#123;</span><br><span class="line">        console.log(&apos;小于5&apos;)</span><br><span class="line">    &#125;,</span><br><span class="line">)   //&apos;大于5&apos;</span><br></pre></td></tr></table></figure></p>
<h1 id="5-JSON"><a href="#5-JSON" class="headerlink" title="5. JSON"></a>5. JSON</h1><p><a href="https://www.jianshu.com/p/912600eba754" target="_blank" rel="noopener">AJAX入门</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/13/ES6入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/13/ES6入门/" itemprop="url">ES6入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-13T21:10:20+08:00">
                2018-04-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-let语法，用法和var一样"><a href="#1-let语法，用法和var一样" class="headerlink" title="1. let语法，用法和var一样"></a>1. let语法，用法和var一样</h1><h3 id="1-作用域不同"><a href="#1-作用域不同" class="headerlink" title="1. 作用域不同"></a>1. 作用域不同</h3><p>若用let来声明变量，只在let命令所在的代码块内有效。而var只有在function内用才能有块级作用域效果，除了function，在其他地方用var全声明的是全局变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//例1</span><br><span class="line">&#123;</span><br><span class="line">  let a = 10;</span><br><span class="line">  var b = 1;</span><br><span class="line">&#125;</span><br><span class="line">a // ReferenceError: a is not defined.</span><br><span class="line">b // 1</span><br><span class="line"></span><br><span class="line">//例2</span><br><span class="line">for (let i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">  let i = &apos;abc&apos;;  //这个i和上面的数字i不互相影响</span><br><span class="line">  console.log(i);</span><br><span class="line">&#125;</span><br><span class="line">// abc</span><br><span class="line">// abc</span><br><span class="line">// abc</span><br></pre></td></tr></table></figure></p>
<h3 id="2-let不会变量提升！"><a href="#2-let不会变量提升！" class="headerlink" title="2. let不会变量提升！"></a>2. let不会变量提升！</h3><h1 id="2-解构赋值"><a href="#2-解构赋值" class="headerlink" title="2. 解构赋值"></a>2. 解构赋值</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let method = options.method;</span><br><span class="line">let body = options.body;</span><br><span class="line">let successFn = options.successFn </span><br><span class="line"></span><br><span class="line">//下面是es6，下面这一行相当于上面三行</span><br><span class="line">let &#123;method,body,successFn&#125; = options;</span><br></pre></td></tr></table></figure>
<p>若是用在函数里：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function(options)&#123;</span><br><span class="line">  let &#123;method,body,successFn&#125; = options;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//上面这样可以简化为下面</span><br><span class="line"></span><br><span class="line">function(&#123;method,body,successFn&#125;)&#123;</span><br><span class="line">  //直接把这个当参数，省略options</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/13/实现AJAX/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/13/实现AJAX/" itemprop="url">实现AJAX</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-13T17:58:04+08:00">
                2018-04-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-原生JS实现AJAX"><a href="#1-原生JS实现AJAX" class="headerlink" title="1. 原生JS实现AJAX"></a>1. 原生JS实现AJAX</h1><p>第一步：<code>let request = new XMLHttpRequest();</code></p>
<h3 id="1-设置请求"><a href="#1-设置请求" class="headerlink" title="1. 设置请求"></a>1. 设置请求</h3><p>用AJAX设置请求的第一部分：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.open(&apos;get&apos;,&apos;/xxx&apos;)  //设置get的请求方式，再设置路径为/xxx</span><br></pre></td></tr></table></figure></p>
<p>设置第二部分：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">request.setRequestHeader(&apos;Accept&apos;,&apos;text/html&apos;)</span><br><span class="line">```  </span><br><span class="line">设置第四部分：</span><br></pre></td></tr></table></figure></p>
<p>request.send(‘请求体’)  //请求一般没有第四部分，可以直接send空字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 2. 获取响应</span><br><span class="line">获取HTTP状态码</span><br></pre></td></tr></table></figure></p>
<p>request.status  //200<br>request.statusText  //OK<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">获取响应第二部分</span><br></pre></td></tr></table></figure></p>
<p>request.getAllResponseHeaders()  //获取第二部分所有<br>request.getResponseHeader(‘Content-Type’)  //获取Content-Type<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">获取第四部分</span><br></pre></td></tr></table></figure></p>
<p>requeset.responseText<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 2. jQuery实现AJAX</span><br><span class="line">1. 封装ajax</span><br></pre></td></tr></table></figure></p>
<p>jQuery.ajax=function({url,method,body,headers}){<br>  return new Promise(function(resolve,reject){<br>    let request = new XMLHttpRequest()<br>    request.open(method,url)  //配置request<br>    for(let key in headers){<br>      let value = headers[key];<br>      request.setRequestHeader(key,value);<br>    }<br>    request.onreadystatechange = ()=&gt;{<br>      if(request.state === 4){<br>        if(request.status &gt;= 200 &amp;&amp; request.status &lt; 300){<br>          resolve.call(undefined,request.responseText)<br>        }else if{request.status &gt;= 400}{<br>          reject.call(undefined,request)<br>        }<br>      }<br>    }<br>    request.send(body);  //body是第四部分<br>  })<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">返回一个promise对象，传入的两个参数resolve、reject，分别代表成功时执行的内容和失败时执行的内容，下面的then就是使用promise。</span><br><span class="line"></span><br><span class="line">2. 使用ajax</span><br></pre></td></tr></table></figure></p>
<p>$.ajax({<br>  url: ‘/xxx’,<br>  method: ‘get’,<br>  headers:{<br>    ‘content-type’:’application/x-www-form-urlencoded’,<br>    ‘pyz’:21<br>  }<br>}).then(<br>  (responseText) =&gt;{<br>    console.log(responseText);<br>    return responseText;  //上面的返回的是成功就执行这个，失败就执行下面那个<br>  },<br>  (request)=&gt;{<br>    console.log(‘error’); return ‘error’  //失败就执行这个<br>  }<br>)<br><code>`</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/11/AJAX入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/11/AJAX入门/" itemprop="url">AJAX入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-11T21:41:44+08:00">
                2018-04-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-历史"><a href="#1-历史" class="headerlink" title="1. 历史"></a>1. 历史</h1><h3 id="1-如何发请求"><a href="#1-如何发请求" class="headerlink" title="1. 如何发请求"></a>1. 如何发请求</h3><ul>
<li>form可以发送GET和POST请求，会刷新页面或新开页面</li>
<li>a可以发送GET请求，会刷新页面或新开页面</li>
<li>img可以发送GET请求，只能以图片形式展示</li>
<li>link可以发送GET请求，只能以css或favicon形式展示</li>
<li>script可以发送GET请求，只能以脚本形式运行<h3 id="2-进化"><a href="#2-进化" class="headerlink" title="2. 进化"></a>2. 进化</h3>IE5在JS中引入ActiveX对象(API)，使JS可以直接发送请求，其他浏览器跟进，取名XMLHttpRequest，被纳入W3C规范。现在进化成AJAX</li>
</ul>
<h1 id="2-AJAX"><a href="#2-AJAX" class="headerlink" title="2. AJAX"></a>2. AJAX</h1><p>Jesse James Garrett将这个技术取名为AJAX：异步的JavaScript和XML。</p>
<ol>
<li>使用XMLHttpRequest发请求</li>
<li>服务器返回XML格式的<strong>字符串</strong>，只能返回字符串</li>
<li>JS解析XML，并更新局部页面</li>
</ol>
<p><strong>API：</strong><code>readyState === 4    //表示整个请求过程已完毕</code></p>
<h1 id="3-用的是JSON"><a href="#3-用的是JSON" class="headerlink" title="3. 用的是JSON"></a>3. 用的是JSON</h1><h3 id="1-JSON是抄袭了JavaScript的一门语言"><a href="#1-JSON是抄袭了JavaScript的一门语言" class="headerlink" title="1. JSON是抄袭了JavaScript的一门语言"></a>1. JSON是抄袭了JavaScript的一门语言</h3><p><strong>区别：</strong></p>
<ol>
<li>JSON没有抄袭function和undefined和symbol</li>
<li>JSON的字符串首尾必须用双引号”pyz” </li>
<li>JSON有6种数据类型</li>
</ol>
<ul>
<li>null</li>
<li>number</li>
<li>string（必须用双引号）</li>
<li>boolean(true false)</li>
<li>array（[“a”,”b”]）</li>
<li>object（{“name”:”pyz”}）</li>
</ul>
<ol>
<li>JSON没有原型<h3 id="2-API"><a href="#2-API" class="headerlink" title="2. API"></a>2. API</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1. let request = new XMLHttpRequest();</span><br><span class="line">2. request.open(&apos;GET&apos;,&apos;/xxx&apos;)  //初始化request</span><br><span class="line">3. request.send()  //发送请求</span><br><span class="line">4. request.onreadystatechange  //监听请求状态的变化</span><br><span class="line">5. request.readyState === 1  //request.open()已经完成</span><br><span class="line">6. request.readyState === 2  //request.send()已经完成</span><br><span class="line">7. request.readyState === 3  //request.responseText正在下载</span><br><span class="line">5. request.readyState === 4  //响应完成</span><br><span class="line">6. request.status  //HTTP状态码</span><br><span class="line">7. var string = request.responseText  //响应的内容</span><br><span class="line">8. var value = JSON.parse(request.responseText)  //把符合JSON语法的字符串转换成JS，解析响应返回的内容</span><br><span class="line">9. value.node   //若value是对象，这就是对象里内容</span><br><span class="line">10. value.node.name  //对象里的name的值</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="4-同源策略"><a href="#4-同源策略" class="headerlink" title="4. 同源策略"></a>4. 同源策略</h1><ol>
<li>form、img、script等上面提到的请求方式，是可以对别的域名发送请求的。<br>但用AJAX不能对别的域名放送请求，只有协议、域名、端口号<strong>一摸一样</strong>才允许发送AJAX（多个www是不同的域名）<br>因为AJAX是可以获取响应内容的，如果没有同源策略的限制，别的网站可以通过AJAX获取另一个网站的所有信息。</li>
<li><p>AJAX可以通过<strong>CORS</strong>发送请求到别的网站<br><strong>跨域资源共享：Cross-Origin Resource Sharing</strong><br>在需要访问的服务器里添加一句</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(&apos;Access-Control-Allow-Origin&apos;, &apos;http://pyz.com:8888&apos;)</span><br></pre></td></tr></table></figure>
<p> <code>http://pyz.com:8888</code>是我的协议+域名+端口号，这样我就可以访问他的服务器了，即使我们域名不同</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(&apos;Access-Control-Allow-Origin&apos;, &apos;*&apos;)  //这样这个服务器就可以接受所有网站的AJAX请求</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="5-面试题"><a href="#5-面试题" class="headerlink" title="5. 面试题"></a>5. 面试题</h1><p><strong>请使用原生JS发送AJAX</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">let request = new XMLHttpRequest();</span><br><span class="line">request.open(&apos;GET&apos;,&apos;/xxx&apos;);</span><br><span class="line">request.send();</span><br><span class="line">request.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">  if(request.readyState === 4)&#123;</span><br><span class="line">    if(request.status &gt;= 200 &amp;&amp; request.status &lt; 300)&#123;</span><br><span class="line">      var string = request.responseText;</span><br><span class="line">      var value = JSON.parse(string);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/10/（重要）JSONP入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/10/（重要）JSONP入门/" itemprop="url">（重要）JSONP入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-10T16:14:42+08:00">
                2018-04-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-必考面试，什么是JSONP"><a href="#1-必考面试，什么是JSONP" class="headerlink" title="1. 必考面试，什么是JSONP"></a>1. 必考面试，什么是JSONP</h1><p>请求方：frank.com的前端程序员（浏览器）<br>响应方：jack.com的后端程序员（服务器）</p>
<ol>
<li>请求方用JS创建一个script标签，它的src指向响应方，同时传查询参数(?callback=…)，如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script.src = &apos;http://jack.com:8002/pay?callback=&apos; + functionName;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>并用<code>document.body.appendChild(script)</code>将它添加进页面中</p>
<ol>
<li>响应方通过查询参数callback构造<br>  <code>functionName.call(undefined,&#39;数据&#39;)</code><br> 这样的响应</li>
<li>浏览器接到响应就会执行 <code>functionName.call(undefined,&#39;数据&#39;)</code></li>
<li>那么请求方就知道了他想要的数据，’success’ or ‘fail’</li>
</ol>
<p>以上就是JSONP</p>
<p><code>functionName.call(undefined,&#39;数据&#39;)</code><br>‘数据’叫做JSON，’数据’左边的叫JSON的左padding，右边的括号叫右padding，合起来叫JSONP</p>
<h1 id="2-必考面试题：JSONP为什么不支持POST请求"><a href="#2-必考面试题：JSONP为什么不支持POST请求" class="headerlink" title="2. 必考面试题：JSONP为什么不支持POST请求"></a>2. 必考面试题：JSONP为什么不支持POST请求</h1><p>答：因为JSONP是通过动态创建script的方法进行的，而script只能发送get请求不能发送post请求。</p>
<h1 id="3-jquery的写法"><a href="#3-jquery的写法" class="headerlink" title="3. jquery的写法"></a>3. jquery的写法</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">        url:&quot;http://jack.com:8002/pay&quot;,</span><br><span class="line">        dataType: &quot;jsonp&quot;,</span><br><span class="line">        success:function (response) &#123;</span><br><span class="line">            if(response === &apos;success&apos;)&#123;</span><br><span class="line">                amount.innerText = amount.innerText-1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/09/DOM事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/09/DOM事件/" itemprop="url">DOM事件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-09T14:38:54+08:00">
                2018-04-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-DOM0时代html和js的那些事儿"><a href="#1-DOM0时代html和js的那些事儿" class="headerlink" title="1. DOM0时代html和js的那些事儿"></a>1. DOM0时代html和js的那些事儿</h1><p>&lt;html><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function print() &#123;</span><br><span class="line">            console.log(&apos;hi&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;button id=&quot;x&quot; onclick=&quot;print&quot;&gt;a&lt;/button&gt;  //html里的onclick相当于eval(&apos;print&apos;) ，这样只会打印出print这个函数</span><br><span class="line">  &lt;button id=&quot;y&quot; onclick=&quot;print()&quot;&gt;b&lt;/button&gt;  //&apos;hi&apos;</span><br><span class="line">  &lt;button id=&quot;z&quot; onclick=&quot;print.call()&quot;&gt;c&lt;/button&gt;  //&apos;hi&apos;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></p>
<p>&lt;js><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x.onclick = print;  //js里这样是执行函数，输出&apos;hi&apos;</span><br><span class="line">x.onclick = print();  //这样写是得到函数的返回值，undefined</span><br><span class="line">x.onclick = print.call();  //同上，undefined</span><br></pre></td></tr></table></figure></p>
<h1 id="2-DOM2"><a href="#2-DOM2" class="headerlink" title="2. DOM2"></a>2. DOM2</h1><h3 id="1-监听事件"><a href="#1-监听事件" class="headerlink" title="1. 监听事件"></a>1. 监听事件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xxx.onclick = function()&#123;&#125;;  //不要用这个，因为可能会覆盖掉别人的事件</span><br><span class="line">//用下面这个</span><br><span class="line"></span><br><span class="line">function f1()&#123;&#125;</span><br><span class="line"></span><br><span class="line">xxx.addEventListener(&apos;click&apos;,f1)    //EventListener是队列，先绑定的就先触发</span><br><span class="line">xxx.removeEventListener(&apos;click&apos;,f1);</span><br></pre></td></tr></table></figure>
<p>若想让事件被点一次后就取消监听，可以将f1写成下面这样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line">  console.log(1);</span><br><span class="line">  xxx.removeEventListener(&apos;click&apos;,f1);  //这样f1执行一次后就自动取消xxx的监听，</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">xxx.addEventListener(&apos;click&apos;,f1)</span><br></pre></td></tr></table></figure></p>
<p>这就是$btn.one(‘click’,fn);</p>
<h3 id="2-嵌套的div被点击的顺序"><a href="#2-嵌套的div被点击的顺序" class="headerlink" title="2. 嵌套的div被点击的顺序"></a>2. 嵌套的div被点击的顺序</h3><p><img src="/images/HTML.png" alt="HTML"><img src="/images/JavaScript.png" alt="JavaScript"></p>
<ul>
<li><strong>面试题1:</strong>请问点击儿子的div，这三个函数的执行顺序是什么？<br><img src="/images/内部执行顺序.png" alt="内部执行顺序"><br>默认的顺序是像右边的箭头序列，先最里面的儿子再爸爸再爷爷，但如果给addEventListener加个true的话，事件就会到左边来，如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grand1.addEventListener(&apos;click&apos;,function fn1()&#123;</span><br><span class="line">    console.log(&apos;爷爷&apos;)</span><br><span class="line">&#125;,true)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/images/true.png" alt="addEventListener(true)"><br>这样执行顺序就是爷爷 -&gt; 儿子 -&gt; 爸爸。<br>左边的（加true的顺序），叫做捕获阶段，右边叫冒泡阶段。</p>
<ul>
<li><p><strong>面试题2：若给同一个div加上true和false呢？</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">child1.addEventListener(&apos;click&apos;,function fn1()&#123;</span><br><span class="line">    console.log(&apos;儿子冒泡&apos;)</span><br><span class="line">&#125;,false)</span><br><span class="line">child1.addEventListener(&apos;click&apos;,function fn1()&#123;</span><br><span class="line">    console.log(&apos;儿子捕获&apos;)</span><br><span class="line">&#125;,true)</span><br><span class="line">//点击child出现&apos;儿子捕获&apos;,&apos;儿子冒泡&apos;</span><br><span class="line">//若是给被点击的本身加上true和false，则按事件添加的顺序执行</span><br><span class="line">//若给爸爸或是爷爷添加true和false，则是按上图箭头顺序执行</span><br></pre></td></tr></table></figure>
</li>
<li><p>stopPropagation()<br>这个方法可以让它那一层停止往上传播</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">child1.addEventListener(&apos;click&apos;,function fn1(e)&#123;</span><br><span class="line">    e.stopPropagation();</span><br><span class="line">&#125;)  //这样点击儿子，就只会执行儿子，不会执行爸爸和爷爷</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-点击别处关闭浮层"><a href="#3-点击别处关闭浮层" class="headerlink" title="3. 点击别处关闭浮层"></a>3. 点击别处关闭浮层</h3><p>html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;wraper&quot; class=&quot;wraper&quot;&gt;</span><br><span class="line">    &lt;button id=&quot;clickMe&quot;&gt;点我&lt;/button&gt;</span><br><span class="line">    &lt;div id=&quot;popover&quot; class=&quot;popover&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot;&gt;浮层</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>错误示范1，js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">&#125;);</span><br><span class="line">$(wrapper).on(&apos;click&apos;,false);  </span><br><span class="line">//这里有错误，浮层出来后无法点击checkbox，因为这里的false，阻止了所有默认事件，应该改成下面那样</span><br><span class="line">$(document).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).hide();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>更新版1，还是不完美<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">&#125;);</span><br><span class="line">$(wrapper).on(&apos;click&apos;,function(e)&#123;</span><br><span class="line">    e.stopPropagation();    //阻止冒泡</span><br><span class="line">&#125;);</span><br><span class="line">$(document).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).hide();   </span><br><span class="line">&#125;);    //这样若有多个浮层，则会监听多次document，浪费资源，可以改成下面的</span><br></pre></td></tr></table></figure></p>
<p>错误示范2，js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">    $(document).one(&apos;click&apos;,function () &#123;  //改为one</span><br><span class="line">      $(popover).hide();   </span><br><span class="line">    &#125;);  </span><br><span class="line">&#125;);    //若没有阻止冒泡，浮层不会显示出来，因为hide也会执行</span><br><span class="line"></span><br><span class="line">//可以添加一个setTimeout使它不会马上执行，如下</span><br><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">    setTimeout(function()&#123;</span><br><span class="line">      $(document).one(&apos;click&apos;,function () &#123;  </span><br><span class="line">        $(popover).hide();   </span><br><span class="line">      &#125;);  </span><br><span class="line">    &#125;,0)    //添加setTimeout后，document.onclick不会马上执行，当下一次点击屏幕的时候才会执行</span><br><span class="line">//这样还是有bug，点击popover内部也会执行hide()</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>完美版本1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    $(popover).show();</span><br><span class="line">    $(document).one(&apos;click&apos;,function () &#123; </span><br><span class="line">        $(popover).hide();   </span><br><span class="line">    &#125;);  //只在浮层show的时候监听document一次</span><br><span class="line">&#125;);</span><br><span class="line">$(wrapper).on(&apos;click&apos;,function(e)&#123;</span><br><span class="line">    e.stopPropagation();  //阻止冒泡，这样点击popover内部就不会执行document.onclick，但这个事件还是会存放在那里</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>完美版本2<br>更新上个版本点按钮不会关闭浮层的bug<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function () &#123;</span><br><span class="line">    if($(popover).is(&apos;:hidden&apos;))&#123;  //若浮层是关闭的，点击按钮则打开</span><br><span class="line">        $(popover).show();</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        $(popover).hide();  //和上面相反</span><br><span class="line">    &#125;</span><br><span class="line">    $(document).one(&apos;click&apos;,function () &#123;</span><br><span class="line">        $(popover).hide();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">$(wrapper).on(&apos;click&apos;,function(e)&#123;</span><br><span class="line">    e.stopPropagation();  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/07/期中考试/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/期中考试/" itemprop="url">期中考试</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-07T13:46:23+08:00">
                2018-04-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-写一个html文件"><a href="#1-写一个html文件" class="headerlink" title="1. 写一个html文件"></a>1. 写一个html文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;我的页面&lt;/title&gt;  //页面标题</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;/style.css&quot;&gt;  //引入一个css</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;/print.css&quot; media=&quot;print&quot;&gt;  //css仅在打印时生效</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;/mobile.css&quot; media=&quot;screen and (max-width:500px)&quot;&gt;  //css仅在屏幕小于500px时生效</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;/gbk.js&quot; charset=&quot;gb2312&quot;&gt;  &lt;/script&gt;  //指定文件用GBK编码</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h1 id="2-移动端适配"><a href="#2-移动端适配" class="headerlink" title="2. 移动端适配"></a>2. 移动端适配</h1><ol>
<li>在html的head里加上meta（<strong>背下来</strong>）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no ,initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>快捷键：meta:vp + tab</p>
<ol>
<li>media query（媒体查询）<br>在引用css的时候加上media属性<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;mobile.css&quot; media=&quot;(max-width:768px)&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>在css里用media<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@media (max-width: 800px) &#123;  //屏幕宽度小于800px时</span><br><span class="line">    body&#123;</span><br><span class="line">        background-color: black;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width:325px) and (max-width: 800px) &#123;  //屏幕宽度在325px到800px时</span><br><span class="line">    body&#123;</span><br><span class="line">        background-color: black;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ol>
<li><p>常用单位<br><strong>px</strong>：像素，网页的默认font-size是16px<br><strong>em</strong>：本身元素的font-size</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p&#123;</span><br><span class="line">border: 1px solid red;</span><br><span class="line">font-size: 20px;</span><br><span class="line">height:2em;</span><br><span class="line">&#125;  //则p元素的高度就是40px</span><br></pre></td></tr></table></figure>
<p> <strong>rem</strong>：根节点(html)的font-size（默认font-size是16px），若设置html的font-size为14px，则整个页面都可以通过设置rem来使其字体是14px的倍数<br><strong>vh</strong>：100vh === 视口高度<br><strong>vw</strong>：100vw === 视口宽度</p>
</li>
<li><p>动态REM（手机专用！）<br>rem是根节点(html)的font-size（默认font-size是16px）大小。<br>js可以获得当前屏幕的宽度pageWidth，把pageWidth赋给font-size，这样整个页面可以通过设置rem来动态的设置所有间距大小</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  var pageWidth = window.innerWidth</span><br><span class="line">  document.write(&apos;&lt;style&gt;html&#123;font-size:&apos;+pageWidth/10+&apos;px;&#125;&lt;/style&gt;&apos;)</span><br><span class="line">//注意！font-size不能小于12px，所以这里可以除以10，但不能除以100，除以100就小于12了</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;styel&gt;</span><br><span class="line">*&#123;margin: 0;padding: 0;&#125;</span><br><span class="line">body&#123;font-size: 16px;&#125;</span><br><span class="line">.clearfix::after&#123;content: &quot;&quot;; clear: both; display: block;&#125;</span><br><span class="line">.child&#123;</span><br><span class="line">    background: #ddd;</span><br><span class="line">    width: 4rem;</span><br><span class="line">    height: 2rem;</span><br><span class="line">    margin: 0.5rem 0.5rem;    //一行两个width加上左右margin正好是10rem，因为script里font-size除以了10</span><br><span class="line">    float: left;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;father clearfix &quot;&gt;</span><br><span class="line">        &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">            可以</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">            可以</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">            可以</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">            可以</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/images/rem.png" alt="通过rem动态设置间距"><br>当设置很小的东西的时候，直接写像素就行了，比如设置边框的时候。<br>把body的font-size设置成16px。</p>
<p>使用SCSS更方便的调整rem，<a href="https://www.jianshu.com/p/d9eeb745fc2f" target="_blank" rel="noopener">Sass入门</a></p>
<h1 id="3-用css3实现圆角矩形和阴影"><a href="#3-用css3实现圆角矩形和阴影" class="headerlink" title="3. 用css3实现圆角矩形和阴影"></a>3. 用css3实现圆角矩形和阴影</h1><p>设置border-radius和box-shadow，具体请看<a href="https://www.jianshu.com/p/33ed5e1eed3d" target="_blank" rel="noopener">css入门</a></p>
<h1 id="4-闭包"><a href="#4-闭包" class="headerlink" title="4. 闭包"></a>4. 闭包</h1><p><a href="https://www.jianshu.com/p/1b620bce17fe" target="_blank" rel="noopener">JS函数</a></p>
<h1 id="5-call、apply和bind"><a href="#5-call、apply和bind" class="headerlink" title="5. call、apply和bind"></a>5. call、apply和bind</h1><p>请看<a href="https://www.jianshu.com/p/629c23652906" target="_blank" rel="noopener">面向对象编程</a></p>
<h1 id="6-7-HTTP"><a href="#6-7-HTTP" class="headerlink" title="6. 7. HTTP"></a>6. 7. HTTP</h1><p><a href="https://www.jianshu.com/p/b709cbd84fbe" target="_blank" rel="noopener">HTTP入门</a></p>
<h1 id="8-算法"><a href="#8-算法" class="headerlink" title="8. 算法"></a>8. 算法</h1><p><a href="https://www.jianshu.com/p/4584a2453406" target="_blank" rel="noopener">几种常见算法</a></p>
<h1 id="9-一个页面从输入-URL-到页面加载显示完成，这个过程中都发生了什么？"><a href="#9-一个页面从输入-URL-到页面加载显示完成，这个过程中都发生了什么？" class="headerlink" title="9. 一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？"></a>9. <a href="https://www.jianshu.com/p/d52ca231cc1b" target="_blank" rel="noopener">一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？</a></h1><h1 id="10-数组去重"><a href="#10-数组去重" class="headerlink" title="10. 数组去重"></a>10. 数组去重</h1><ol>
<li><p>ES5</p>
<ul>
<li><p>方法一：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.distinct = function ()&#123;</span><br><span class="line"> var arr = this,</span><br><span class="line">  i,</span><br><span class="line">  obj = &#123;&#125;,</span><br><span class="line">  result = [],</span><br><span class="line">  len = arr.length;</span><br><span class="line"> for(i = 0; i&lt; arr.length; i++)&#123;</span><br><span class="line">  if(!obj[arr[i]])&#123; //如果能查找到，证明数组元素重复了</span><br><span class="line">   obj[arr[i]] = 1;</span><br><span class="line">   result.push(arr[i]);</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> return result;</span><br><span class="line">&#125;;</span><br><span class="line">var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,];</span><br><span class="line">var b = a.distinct();</span><br><span class="line">console.log(b.toString());     //1,2,3,4,5,6,56</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法二：（递归）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.distinct = function ()&#123;</span><br><span class="line"> var arr = this,</span><br><span class="line">  len = arr.length;</span><br><span class="line"> arr.sort(function(a,b)&#123;  //对数组进行排序才能方便比较</span><br><span class="line">  return a - b;</span><br><span class="line"> &#125;)</span><br><span class="line"> function loop(index)&#123;</span><br><span class="line">  if(index &gt;= 1)&#123;</span><br><span class="line">   if(arr[index] === arr[index-1])&#123;</span><br><span class="line">    arr.splice(index,1);</span><br><span class="line">   &#125;</span><br><span class="line">   loop(index - 1); //递归loop函数进行去重</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> loop(len-1);</span><br><span class="line"> return arr;</span><br><span class="line">&#125;;</span><br><span class="line">var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,56,45,56];</span><br><span class="line">var b = a.distinct();</span><br><span class="line">console.log(b.toString());      //1,2,3,4,5,6,45,56</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法三：(利用indexOf以及forEach)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.distinct = function ()&#123;</span><br><span class="line"> var arr = this,</span><br><span class="line">  result = [],</span><br><span class="line">  len = arr.length;</span><br><span class="line"> arr.forEach(function(v, i ,arr)&#123;  //这里利用map，filter方法也可以实现</span><br><span class="line">  var bool = arr.indexOf(v,i+1);  //从传入参数的下一个索引值开始寻找是否存在重复</span><br><span class="line">  if(bool === -1)&#123;</span><br><span class="line">   result.push(v);</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"> return result;</span><br><span class="line">&#125;;</span><br><span class="line">var a = [1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,3,2,3,3,2,2,1,23,1,23,2,3,2,3,2,3];</span><br><span class="line">var b = a.distinct();</span><br><span class="line">console.log(b.toString()); //1,23,2,3</span><br></pre></td></tr></table></figure>
<p>方法三的indexOf和forEach都是遍历，双重循环效率不高，所以差评</p>
</li>
</ul>
</li>
<li><p>ES6<br>set数据结构</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function dedupe(array)&#123;</span><br><span class="line"> return Array.from(new Set(array));</span><br><span class="line">&#125;</span><br><span class="line">dedupe([1,1,2,3]) //[1,2,3]</span><br></pre></td></tr></table></figure>
<p> 拓展运算符(…)内部使用for…of循环</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let arr = [1,2,3,3];</span><br><span class="line">let resultarr = [...new Set(arr)]; </span><br><span class="line">console.log(resultarr); //[1,2,3]</span><br></pre></td></tr></table></figure></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/07/面向对象编程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/面向对象编程/" itemprop="url">面向对象编程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-07T12:55:51+08:00">
                2018-04-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-This关键字"><a href="#1-This关键字" class="headerlink" title="1. This关键字"></a>1. This关键字</h1><p>这三个方法都可以绑定this值</p>
<h3 id="1-call"><a href="#1-call" class="headerlink" title="1. call()"></a>1. call()</h3><ul>
<li><p><strong>this</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">var f = function () &#123;</span><br><span class="line">  return this;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">f() === window // true</span><br><span class="line">f.call(obj) === obj // true</span><br></pre></td></tr></table></figure>
<p>call方法的参数，应该是一个对象。<br>如果参数为空、null和undefined，正常模式下默认传入全局对象（window），严格模式下为undefined。<br>call方法可以改变this的指向，指定this指向对象obj。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var f = function () &#123;</span><br><span class="line">  return this;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">f.call(5)    //Number &#123;[[PrimitiveValue]]: 5&#125;</span><br></pre></td></tr></table></figure>
<p>若call方法的参数是一个原始值，那么这个原始值会转成对应的对象</p>
</li>
<li><p><strong>arguments</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function add(a, b) &#123;</span><br><span class="line">  console.log(arguments[0]);</span><br><span class="line">  console.log(arguments[1]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add.call(this, 1, 2) // 1，2，第一个参数传给this，后面的都存入arguments对象</span><br></pre></td></tr></table></figure>
<p>arguments是伪数组</p>
</li>
</ul>
<h3 id="2-apply"><a href="#2-apply" class="headerlink" title="2. apply()"></a>2. apply()</h3><p>apply方法的第一个参数用法和call一样，不同的是第二个参数必须是一个数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function f(x, y)&#123;</span><br><span class="line">  console.log(x + y);</span><br><span class="line">&#125;</span><br><span class="line">f.apply(null, [1, 1]) // 2</span><br></pre></td></tr></table></figure></p>
<p>所以利用这一点<br>（1）找出数组最大元素<br>JavaScript 不提供找出数组最大元素的函数。结合使用apply方法和Math.max方法，就可以返回数组的最大元素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a = [10, 2, 4, 15, 9];</span><br><span class="line">Math.max.apply(null, a) // 15</span><br></pre></td></tr></table></figure></p>
<p> (2)将数组的空元素变为undefined<br>通过apply方法，利用Array构造函数将数组的空元素变成undefined。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Array.apply(null, [&apos;a&apos;, ,&apos;b&apos;])  </span><br><span class="line">// [ &apos;a&apos;, undefined, &apos;b&apos; ]</span><br></pre></td></tr></table></figure></p>
<p>数组的forEach方法会跳过空元素，但是不会跳过undefined。</p>
<h3 id="3-bind"><a href="#3-bind" class="headerlink" title="3. bind()"></a>3. bind()</h3><p>bind可以绑定this值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var d = new Date();</span><br><span class="line">d.getTime() // 1481869925657</span><br><span class="line"></span><br><span class="line">var print = d.getTime;</span><br><span class="line">print() // Uncaught TypeError: this is not a Date object.</span><br></pre></td></tr></table></figure></p>
<p>这样会报错，可以像下面这样,将getTime内部的this绑定为d对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var print = d.getTime.bind(d);</span><br><span class="line">print() // 1481869925657</span><br></pre></td></tr></table></figure></p>
<p>下面这样也是，将inc方法内部的this绑定到counter<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var counter = &#123;</span><br><span class="line">   count: 0,</span><br><span class="line">   inc: function () &#123;</span><br><span class="line">     this.count++;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var func = counter.inc.bind(counter);</span><br><span class="line">func();</span><br><span class="line">counter.count // 1</span><br></pre></td></tr></table></figure></p>
<p>还可以绑定其他对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var counter = &#123;</span><br><span class="line">   count: 0,</span><br><span class="line">   inc: function () &#123;</span><br><span class="line">      this.count++;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">   count: 100</span><br><span class="line">&#125;;</span><br><span class="line">var func = counter.inc.bind(obj);</span><br><span class="line">func();</span><br><span class="line">obj.count // 101</span><br></pre></td></tr></table></figure></p>
<p>bind还可以绑定原函数的参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var add = function (x, y) &#123;</span><br><span class="line">   return x * this.m + y * this.n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">  m: 2,</span><br><span class="line">  n: 2</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var newAdd = add.bind(obj, 5);  //5相当于绑定了add函数里的x</span><br><span class="line">newAdd(5) // 20，这个5相当于add函数里y</span><br></pre></td></tr></table></figure></p>
<p>若bind第一个对象为null，等于将this绑定到全局对象（window）<br><strong>bind的注意事项：</strong><br>（1）每一次返回一个新函数<br>bind方法每运行一次，就返回一个新函数，所以监听事件的时候，要谨慎使用。<a href="http://javascript.ruanyifeng.com/oop/this.html#toc7" target="_blank" rel="noopener">更多</a></p>
<h1 id="2-用函数模拟一个类"><a href="#2-用函数模拟一个类" class="headerlink" title="2. 用函数模拟一个类"></a>2. 用函数模拟一个类</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function Animal(species) &#123;</span><br><span class="line">    this.species = species; //自有属性</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">Animal.prototype = &#123;</span><br><span class="line">    constructor: Animal,</span><br><span class="line">    walk : function () &#123;&#125;,  //走路的代码</span><br><span class="line">    run: function () &#123;&#125;,    //跑步的代码</span><br><span class="line">    eat: function () &#123;&#125;,    //吃东西的代码</span><br><span class="line">    sleep: function () &#123;&#125;   //睡觉的代码</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let cat = new Animal(&apos;cat&apos;)</span><br><span class="line">cat.specise === cat     //true</span><br><span class="line">//并且cat对象的__proto__指向Animal.prototype，有里面的动作属性</span><br></pre></td></tr></table></figure>
<p>未完待续…</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/07/到页面加载显示完成，这个过程中都发生了什么？/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Pengyize">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Block">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/到页面加载显示完成，这个过程中都发生了什么？/" itemprop="url">到页面加载显示完成，这个过程中都发生了什么？</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-07T10:29:48+08:00">
                2018-04-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-浏览器查找域名对应的-IP-地址："><a href="#1-浏览器查找域名对应的-IP-地址：" class="headerlink" title="1. 浏览器查找域名对应的 IP 地址："></a>1. 浏览器查找域名对应的 IP 地址：</h1><p>通过DNS查询到相应的IP地址，相当于你的路由问电信公司，于是电信公司返回对应的IP地址。<br><strong>补充说明：</strong></p>
<ul>
<li>你若修改了hosts文件，可自己指定域名的IP，绕过DNS。</li>
<li>URL和域名是两个概念：例如，xiedaimala.com是这个网站的域名，根据这个域名找到写代码啦的服务器，xiedaimala.com/courses 是URL，根据这个URL定位到写代码啦的课程表。</li>
<li>IP 地址与域名不是一一对应的关系：可以把多个提供相同服务的服务器 IP 设置为同一个域名，但在同一时刻一个域名只能解析出一个 IP地址；同时，一个 IP 地址可以绑定多个域名，数量不限；</li>
</ul>
<h1 id="2-浏览器和服务器建立连接——三次握手（采用TCP协议）"><a href="#2-浏览器和服务器建立连接——三次握手（采用TCP协议）" class="headerlink" title="2. 浏览器和服务器建立连接——三次握手（采用TCP协议）"></a>2. 浏览器和服务器建立连接——三次握手（采用TCP协议）</h1><ul>
<li>浏览器说：服务器我要连接你了，可以吗</li>
<li>服务器说：好的，连接吧</li>
<li>浏览器说：好的，那我连接了<br>连接成功！</li>
</ul>
<h1 id="3-网页的请求与显示"><a href="#3-网页的请求与显示" class="headerlink" title="3. 网页的请求与显示"></a>3. 网页的请求与显示</h1><ol>
<li>浏览器向服务器发送请求的第一部分</li>
<li>浏览器向服务器发送请求头（第二部分），若是post请求还会发送请求体（第四部分）</li>
<li>服务器应答，发送响应的第一部分</li>
<li>服务器发送响应的响应头信息</li>
<li>服务器发送以Content-type描述的格式的数据</li>
<li>在浏览器还没有完全接收 HTML 文件时便开始渲染、显示网页</li>
<li>在执行 HTML 中代码时，根据需要，浏览器会继续请求图片、CSS、JavsScript等文件，过程同请求 HTML </li>
</ol>
<h1 id="4-断开连接——四次握手"><a href="#4-断开连接——四次握手" class="headerlink" title="4. 断开连接——四次握手"></a>4. 断开连接——四次握手</h1><ul>
<li><p>主机向服务器发送一个断开连接的请求（不早了，我该走了）；</p>
</li>
<li><p>服务器接到请求后发送确认收到请求的信号（知道了）；</p>
</li>
<li><p>服务器向主机发送断开通知（我也该走了）；</p>
</li>
<li><p>主机接到断开通知后断开连接并反馈一个确认信号（嗯，好的），服务器收到确认信号后断开连接；</p>
</li>
</ul>
<p><strong>补充说明：</strong></p>
<ul>
<li>为什么服务器在接到断开请求时不立即同意断开：当服务器收到断开连接的请求时，可能仍然有数据未发送完毕，所以服务器先发送确认信号，等所有数据发送完毕后再同意断开。</li>
<li>第四次握手后，主机发送确认信号后并没有立即断开连接，而是等待了 2 个报文传送周期，原因是：如果第四次握手的确认信息丢失，服务器将会重新发送第三次握手的断开连接的信号，而服务器发觉丢包与重新发送的断开连接到达主机的时间正好为 2 个报文传输周期。</li>
</ul>
<p>未完待续…</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Pengyize</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">Artikel</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pengyize</span>

  
</div>


  <div class="powered-by">Erstellt mit  <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
